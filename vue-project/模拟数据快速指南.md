# 模拟数据快速指南 🚀

## ⚠️ 重要说明

**模拟数据仅对演示账户生效！**

- ✅ **演示账户**：通过登录页面的"患者演示"或"医生演示"按钮登录，将看到完整的模拟数据
- ❌ **真实账户**：使用手机验证码正常登录的账户，会自动调用真实后端 API，不会显示模拟数据

这样设计的好处：
- 演示账户可以展示完整功能，无需后端
- 真实用户的数据不会被模拟数据污染
- 开发和演示互不干扰

---

## 快速开始（5秒钟）

### 方法 1：使用界面控制（推荐）

1. 启动项目：`npm run dev`
2. 在页面右下角找到**蓝色齿轮按钮** ⚙️
3. 点击打开"模拟数据控制面板"
4. 一键管理所有模拟数据！

### 方法 2：使用配置文件

打开 `src/config/mock.config.ts`，修改：

```typescript
USE_MOCK_DATA: true   // 启用模拟数据
USE_MOCK_DATA: false  // 连接真实后端
```

## 功能特性 ✨

### ✅ 已实现的模拟数据

**患者端：**
- 6 个医疗文件（检验报告、影像资料等）
- 4 条分享记录
- 5 条访问记录
- 完整的统计数据

**医生端：**
- 5 位授权患者
- 4 个可访问数据文件
- 5 条访问历史
- 完整的统计数据

### 🎛️ 控制面板功能

右下角浮动按钮提供：
- ✅ 查看数据统计
- ✅ 导出模拟数据
- ✅ 清除所有数据
- ✅ 分类清除（患者端/医生端）
- ✅ 重新加载页面

### 💻 控制台命令

在浏览器 Console 中输入：

```javascript
// 查看统计
mockDataManager.showMockDataStats()

// 清除所有数据
mockDataManager.clearAllMockData()

// 导出数据
mockDataManager.downloadMockData()
```

## 测试流程 📝

### 患者端测试

1. 登录患者账号
2. 查看"我的数据"页面 → 应该看到 6 个医疗文件
3. 查看"分享管理"页面 → 应该看到 4 条分享记录
4. 查看"工作台"页面 → 应该看到统计数据

### 医生端测试

1. 登录医生账号
2. 查看"工作台"页面 → 应该看到 3 个统计卡片
3. 查看"患者管理"页面 → 应该看到 5 位患者
4. 最近访问记录应该有数据显示

## 切换到真实后端 🔄

### 步骤 1：修改配置

```typescript
// src/config/mock.config.ts
USE_MOCK_DATA: false
```

### 步骤 2：清除数据（可选）

点击右下角面板 → "清除所有数据"

### 步骤 3：刷新页面

Ctrl+R 或 F5 刷新

### 步骤 4：验证

确保所有页面都能正常加载真实数据。

## 文件位置 📂

```
src/
├── config/mock.config.ts          # 🔧 配置文件（在这里开关）
├── mock/
│   ├── data/
│   │   ├── patients.ts            # 📝 患者端数据（在这里修改）
│   │   └── doctors.ts             # 📝 医生端数据（在这里修改）
│   └── mockService.ts             # ⚙️ 模拟服务
├── utils/mockDataManager.ts       # 🛠️ 管理工具
└── components/MockDataControl.vue # 🎛️ 控制面板
```

## 常见问题 ❓

**Q: 为什么数据没有显示？**
A: 检查 `mock.config.ts` 中 `USE_MOCK_DATA` 是否为 `true`

**Q: 如何添加更多数据？**
A: 编辑 `src/mock/data/patients.ts` 或 `doctors.ts`

**Q: 如何完全移除模拟系统？**
A: 设置 `USE_MOCK_DATA: false` 即可，代码会自动跳过模拟逻辑

**Q: 生产环境会使用模拟数据吗？**
A: 不会！模拟数据只在 `USE_MOCK_DATA: true` 时生效

## 提示 💡

- ⚙️ 右下角有个蓝色齿轮按钮，点击可以快速管理数据
- 🔍 打开浏览器控制台可以看到 `[MOCK]` 日志
- 📥 可以导出模拟数据为 JSON 文件备份
- 🔄 切换数据源后记得刷新页面

## 完整文档 📚

详细说明请查看：`MOCK_DATA_README.md`

---

**制作时间：** 2024-01-21  
**适用版本：** v1.0.0

祝测试愉快！🎉

